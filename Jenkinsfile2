pipeline {
    agent any
    stages {
        stage ('initialize mvn') {
            steps {
                sh '/usr/bin/mvn/initialize'
            }
        }
          stage ('build') {
            steps {
                sh '/usr/bin/mvn/mvn clean package'
            }
        }
          stage ('test') {
            steps {
                sh 'mvn test'
            }
        }
          stage ('deployment') {
            steps {
               sh 'scp -o StrictHostKeyChecking=no /var/lib/jenkins/workspace/Jenkins Pipeline Project/target/webapp-0.2.war centos@3.135.192.169:/home/centos/opt/tomcat'
            }
        }       
    }
}
